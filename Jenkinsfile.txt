pipeline {
    agent any
    stages {
		
		// *****ALL CODE TO BE ADDED BELOW THIS COMMENT*****
		
		//Code starts for stage Clean
        stage('Clean') {
            steps {
                sh 'mvn clean'
            }
        }
	
	stage('PMD') {
            steps {
                sh 'mvn site'
            }
        }
	
		
		stage('SonarQube analysis') {
		      steps {
			script {
			  // requires SonarQube Scanner 2.8+
			  scannerHome = tool 'SonarQube Scanner 2.8'
			}
			withSonarQubeEnv('SonarQube Scanner 2.8') {
			  sh "${scannerHome}/bin/sonar-scanner"
			}
		      }
		    }
		
		
		
		
		// *****ALL CODE TO BE ADDED ABOVE THIS COMMENT*****
    }
}
